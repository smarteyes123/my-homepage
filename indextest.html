<script>
    // ===== Loading State Management =====
    let imagesLoaded = 0;
    let totalImages = 0;
    
    function showLoadingSpinner() {
      const spinner = document.createElement('div');
      spinner.className = 'loading-spinner';
      spinner.id = 'loadingSpinner';
      document.body.appendChild(spinner);
    }
    
    function hideLoadingSpinner() {
      const spinner = document.getElementById('loadingSpinner');
      if (spinner) {
        spinner.remove();
        document.body.classList.add('page-fade-in');
      }
    }

    // ===== 1) 从40张图片中随机选择6张用于Hero背景 =====
    function generateRandomImages() {
      const totalImagesCount = 40; // 你有1.JPEG到40.JPEG
      const displayCount = 6; // 显示6张图片
      
      // 生成1-40的数组
      const allNumbers = Array.from({length: totalImagesCount}, (_, i) => i + 1);
      
      // 随机打乱数组
      for (let i = allNumbers.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [allNumbers[i], allNumbers[j]] = [allNumbers[j], allNumbers[i]];
      }
      
      // 取前6个数字，生成图片路径（使用大写JPEG扩展名）
      return allNumbers.slice(0, displayCount).map(num => `img/${num}.JPEG`);
    }

    // 生成随机图片并插入到hero区域
    function loadHeroImages() {
      showLoadingSpinner();
      
      const heroImages = generateRandomImages();
      const heroEl = document.getElementById('hero');
      totalImages = heroImages.length;
      
      heroImages.forEach((src, index) => {
        const tile = document.createElement('div');
        tile.className = 'tile';
        const img = document.createElement('img');
        img.loading = 'lazy';
        img.src = src;
        img.alt = `Smart Eyes Hero Image ${index + 1}`;
        
        // 图片加载成功处理
        img.onload = function() {
          imagesLoaded++;
          tile.classList.add('loaded');
          if (imagesLoaded >= totalImages) {
            setTimeout(hideLoadingSpinner, 300);
          }
        };
        
        // 图片加载失败处理
        img.onerror = function() {
          console.warn(`Failed to load image: ${src}`);
          // 使用备用占位图
          img.src = `data:image/svg+xml;base64,${btoa(`
            <svg width="300" height="400" xmlns="http://www.w3.org/2000/svg">
              <rect width="100%" height="100%" fill="#f6f8fb"/>
              <text x="50%" y="50%" text-anchor="middle" dy=".35em" fill="#667085" font-family="Arial" font-size="14">
                Smart Eyes
              </text>
            </svg>
          `)}`;
          imagesLoaded++;
          tile.classList.add('loaded');
          if (imagesLoaded >= totalImages) {
            setTimeout(hideLoadingSpinner, 300);
          }
        };
        
        tile.appendChild(img);
        heroEl.insertBefore(tile, heroEl.firstChild);
      });
      
      // 如果5秒内图片还没加载完，强制隐藏loading
      setTimeout(() => {
        if (document.getElementById('loadingSpinner')) {
          hideLoadingSpinner();
        }
      }, 5000);
    }

    // ===== 2) 平滑滚动和交互增强 =====
    function enhanceInteractions() {
      // 平滑滚动到联系我们
      const ctaButton = document.querySelector('[href="#contact"]');
      if (ctaButton) {
        ctaButton.addEventListener('click', function(e) {
          e.preventDefault();
          const contactSection = document.getElementById('contact');
          if (contactSection) {
            contactSection.scrollIntoView({ 
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      }
      
      // 添加键盘导航支持
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Tab') {
          document.body.classList.add('keyboard-navigation');
        }
      });
      
      document.addEventListener('mousedown', function() {
        document.body.classList.remove('keyboard-navigation');
      });
      
      // 卡片点击增强
      document.querySelectorAll('.card, .adv .item').forEach(card => {
        card.setAttribute('tabindex', '0');
        card.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            card.click();
          }
        });
      });
    }

    // ===== 3) 动画观察器（优化性能） =====
    function initIntersectionObserver() {
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.animationPlayState = 'running';
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);
      
      // 观察所有需要动画的元素
      document.querySelectorAll('.fade-up, .scale-in').forEach(el => {
        el.style.animationPlayState = 'paused';
        observer.observe(el);
      });
    }

    // ===== 4) 语言系统（暂时保持简化版本） =====
    const I18N = {
      ja: {
        eyebrow: 'REAL ESTATE • TOKYO',
        headline: '新宿から、上質な不動産ソリューション',
        tagline: '売買・賃貸・投資。海外のお客様にも多言語で丁寧に対応します。',
        ctaTalk: '相談する',
        svcTitle: 'サービス',
        svcDesc: '個人・法人向けに、東京エリアを中心に対応。',
        svc1Badge: 'SALE', svc1Title:'売買・デューデリ', svc1Desc:'内見同席、価格交渉、契約レビューと資金スキームまで。',
        svc2Badge: 'RENT', svc2Title:'賃貸・管理', svc2Desc:'留学生・外国籍・法人契約まで多言語でサポート。',
        svc3Badge: 'INVEST', svc3Title:'投資・アセット', svc3Desc:'収益シミュレーション、CF計画、M&A/Exit助言。',
        advTitle:'選ばれる理由', advDesc:'信頼・専門性・スピード。',
        adv1Title:'新宿コアロケーション', adv1Desc:'主要路線へのアクセスが良好。',
        adv2Title:'多言語サポート', adv2Desc:'日/中/英/越/ネパール語対応。',
        adv3Title:'法令順守', adv3Desc:'東京都知事(1)第112700号。',
        adv4Title:'リサーチ駆動', adv4Desc:'データとモデルに基づく助言。',
        contactTitle:'お問い合わせ',
        company:'株式会社スマートアイズ',
        addr:'〒160-0023 東京都新宿区西新宿7-3-10山京ビル401',
        license:'宅地建物取引業許可番号：東京都知事(1)第112700号',
        wechatHint:'WeChatでお問い合わせ'
      }
    };

    // 语言检测和应用
    function detectLang(){
      const nav = (navigator.languages && navigator.languages[0]) || navigator.language || 'ja';
      const code = nav.toLowerCase();
      if(code.startsWith('ja')) return 'ja';
      return 'ja'; // 目前只支持日语
    }
    
    function applyLang(lang){
      const dict = I18N[lang] || I18N['ja'];
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if(dict[key]) el.textContent = dict[key];
      });
      document.documentElement.lang = lang;
      
      // 更新页面标题和meta描述
      if(dict.meta) {
        if(dict.meta.title) document.title = dict.meta.title;
        const metaDesc = document.querySelector('meta[name="description"]');
        if(metaDesc && dict.meta.description) {
          metaDesc.setAttribute('content', dict.meta.description);
        }
      }
    }
    
    function buildLangSwitch(){
      const el = document.getElementById('langSwitch');
      const languages = {ja:'日本語'};
      
      Object.keys(languages).forEach(code=>{
        const b = document.createElement('button');
        b.textContent = languages[code];
        b.dataset.lang = code;
        b.setAttribute('aria-label', `Switch to ${languages[code]}`);
        b.onclick = ()=>applyLang(code);
        el.appendChild(b);
      });
    }

    // ===== 5) 性能优化工具 =====
    function optimizePerformance() {
      // 防抖函数
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }
      
      // 节流函数
      function throttle(func, limit) {
        let inThrottle;
        return function() {
          const args = arguments;
          const context = this;
          if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
          }
        };
      }
      
      // 优化滚动性能
      const handleScroll = throttle(() => {
        const header = document.querySelector('.site-header');
        if (window.scrollY > 100) {
          header.style.background = 'rgba(255,255,255,0.98)';
          header.style.boxShadow = '0 2px 20px rgba(0,0,0,0.1)';
        } else {
          header.style.background = 'rgba(255,255,255,0.95)';
          header.style.boxShadow = 'none';
        }
      }, 16);
      
      window.addEventListener('scroll', handleScroll, { passive: true });
      
      // 预加载关键资源
      const preloadLinks = [
        'logo.png',
        'wechat.png'
      ];
      
      preloadLinks.forEach(href => {
        const link = document.createElement('link');
        link.rel = 'preload';
        link.as = 'image';
        link.href = href;
        document.head.appendChild(link);
      });
    }

    // ===== 6) 错误处理和容错 =====
    function initErrorHandling() {
      // 全局错误处理
      window.addEventListener('error', function(e) {
        console.warn('Page error caught:', e.error);
        // 静默处理，不影响用户体验
      });
      
      // 图片加载错误处理
      document.addEventListener('error', function(e) {
        if (e.target.tagName === 'IMG') {
          e.target.style.display = 'none';
          console.warn('Image failed to load:', e.target.src);
        }
      }, true);
      
      // 确保关键功能即使在错误情况下也能工作
      setTimeout(() => {
        if (document.getElementById('loadingSpinner')) {
          hideLoadingSpinner();
        }
      }, 8000);
    }

    // ===== 7) 辅助功能增强 =====
    function enhanceAccessibility() {
      // 为所有互动元素添加适当的ARIA标签
      document.querySelectorAll('.card').forEach((card, index) => {
        card.setAttribute('role', 'button');
        card.setAttribute('aria-label', `Service card ${index + 1}`);
      });
      
      document.querySelectorAll('.adv .item').forEach((item, index) => {
        item.setAttribute('role', 'button');
        item.setAttribute('aria-label', `Advantage ${index + 1}`);
      });
      
      // 添加跳转到主内容的链接
      const skipLink = document.createElement('a');
      skipLink.href = '#main-content';
      skipLink.textContent = 'Skip to main content';
      skipLink.className = 'skip-link';
      skipLink.style.cssText = `
        position: absolute;
        top: -40px;
        left: 6px;
        background: var(--brand);
        color: white;
        padding: 8px;
        text-decoration: none;
        border-radius: 4px;
        z-index: 1000;
        transition: top 0.3s;
      `;
      skipLink.addEventListener('focus', () => {
        skipLink.style.top = '6px';
      });
      skipLink.addEventListener('blur', () => {
        skipLink.style.top = '-40px';
      });
      document.body.insertBefore(skipLink, document.body.firstChild);
      
      // 为主要内容区域添加ID
      const mainContent = document.querySelector('section');
      if (mainContent) {
        mainContent.id = 'main-content';
      }
    }

    // ===== 8) 移动端体验优化 =====
    function optimizeMobile() {
      // 检测触摸设备
      const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
      
      if (isTouchDevice) {
        document.body.classList.add('touch-device');
        
        // 移动端特定的交互优化
        document.querySelectorAll('.card, .adv .item').forEach(element => {
          element.addEventListener('touchstart', function() {
            this.classList.add('touch-active');
          }, { passive: true });
          
          element.addEventListener('touchend', function() {
            setTimeout(() => {
              this.classList.remove('touch-active');
            }, 150);
          }, { passive: true });
        });
      }
      
      // 处理横屏模式
      function handleOrientationChange() {
        const hero = document.querySelector('.hero');
        if (window.orientation === 90 || window.orientation === -90) {
          hero.style.minHeight = '100vh';
        } else {
          hero.style.minHeight = '100vh';
        }
      }
      
      window.addEventListener('orientationchange', handleOrientationChange);
      
      // 优化移动端按钮大小
      const style = document.createElement('style');
      style.textContent = `
        @media (max-width: 640px) {
          .touch-device .btn {
            min-height: 48px;
            min-width: 48px;
          }
          .touch-device .lang-switch button {
            min-height: 48px;
            min-width: 48px;
          }
          .touch-active {
            transform: scale(0.98);
            opacity: 0.8;
          }
        }
      `;
      document.head.appendChild(style);
    }

    // ===== 主初始化函数 =====
    function init() {
      // 基础设置
      buildLangSwitch();
      applyLang(detectLang());
      
      // 核心功能
      loadHeroImages();
      enhanceInteractions();
      
      // 性能和体验优化
      optimizePerformance();
      initErrorHandling();
      enhanceAccessibility();
      optimizeMobile();
      
      // 延迟加载的功能
      setTimeout(() => {
        initIntersectionObserver();
      }, 1000);
      
      console.log('Smart Eyes website initialized successfully');
    }

    // ===== 页面加载完成后初始化 =====
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script><!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>株式会社スマートアイズ | 不動産コンサルティング</title>
  <meta name="description" content="新宿区の不動産売買・賃貸・投資コンサルティング。多言語対応で海外投資家・在日外国人の皆さまをサポート。" />
  <link rel="icon" href="logo.png" />
  <style>
    /* ===== Base ===== */
    :root{
      --brand:#005bac;       /* 主色：深蓝 */
      --brand-ink:#0a2540;   /* 深墨色 */
      --gold:#c8a86b;        /* 点缀金色 */
      --ink:#222;
      --muted:#667085;
      --bg:#f6f8fb;
      --card:#ffffff;
      --radius:16px;
      --shadow:0 10px 30px rgba(0,0,0,.08);
      --transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,"Hiragino Kaku Gothic ProN","Hiragino Sans","Noto Sans JP","Microsoft YaHei",sans-serif;}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}

    /* ===== Loading Spinner ===== */
    .loading-spinner{
      position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
      width:40px;height:40px;border:3px solid #f3f3f3;border-top:3px solid var(--brand);
      border-radius:50%;animation:spin 1s linear infinite;z-index:9999;
    }
    @keyframes spin{0%{transform:translate(-50%,-50%) rotate(0deg)}100%{transform:translate(-50%,-50%) rotate(360deg)}}
    .page-fade-in{opacity:0;animation:pageLoad 0.8s ease forwards}
    @keyframes pageLoad{to{opacity:1}}

    /* ===== Header ===== */
    .site-header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);border-bottom:1px solid #edf0f4;transition:var(--transition)}
    .site-header .row{display:flex;align-items:center;justify-content:space-between;padding:14px 0;gap:12px}
    .brand{display:flex;align-items:center;gap:12px;transition:var(--transition)}
    .brand:hover{transform:translateY(-1px)}
    .brand img{height:48px;transition:var(--transition)}
    .brand .name{font-weight:700;letter-spacing:.2px;color:var(--brand-ink)}
    .lang-switch{display:flex;gap:8px;flex-wrap:wrap}
    .lang-switch button{border:1px solid #e5e7eb;background:#fff;padding:8px 12px;border-radius:10px;font-size:13px;cursor:pointer;transition:var(--transition);min-width:44px;min-height:44px}
    .lang-switch button:hover{border-color:var(--brand);box-shadow:0 2px 8px rgba(0,91,172,0.15)}
    .lang-switch button.active{background:var(--brand);border-color:var(--brand);color:#fff;box-shadow:0 4px 12px rgba(0,91,172,0.3)}
    .lang-switch button:focus{outline:2px solid var(--brand);outline-offset:2px}

    /* ===== Hero (portrait mosaic) ===== */
    .hero{position:relative;min-height:100vh;max-height:100vh;overflow:hidden;display:grid;grid-template-columns:1.2fr 1fr 1fr;gap:8px;padding:18px;background:linear-gradient(180deg,#eaf2ff,transparent)}
    .hero .tile{position:relative;overflow:hidden;border-radius:14px;opacity:0;animation:tileLoad 0.8s ease forwards}
    .hero .tile:nth-child(1){animation-delay:0.1s}
    .hero .tile:nth-child(2){animation-delay:0.2s}
    .hero .tile:nth-child(3){animation-delay:0.3s}
    .hero .tile:nth-child(4){animation-delay:0.4s}
    .hero .tile:nth-child(5){animation-delay:0.5s}
    .hero .tile:nth-child(6){animation-delay:0.6s}
    @keyframes tileLoad{to{opacity:1}}
    .hero .tile img{width:100%;height:100%;object-fit:cover;transform:scale(1.05);transition:transform .6s ease;loading:lazy}
    .hero .tile:hover img{transform:scale(1.12)}
    .hero .tile::before{content:"";position:absolute;inset:0;background:var(--bg);display:flex;align-items:center;justify-content:center;opacity:1;transition:opacity 0.3s ease;z-index:1}
    .hero .tile.loaded::before{opacity:0}
    .hero::after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,0,0,.4),rgba(0,0,0,.15) 35%,rgba(0,0,0,.0) 65%);pointer-events:none;border-radius:0}
    .hero-content{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;z-index:10}
    .hero-card{backdrop-filter:blur(8px);background:rgba(255,255,255,.85);border:1px solid rgba(255,255,255,.8);box-shadow:0 20px 40px rgba(0,0,0,.15);border-radius:20px;max-width:720px;padding:32px;text-align:center;transition:var(--transition)}
    .hero-card:hover{transform:translateY(-2px);box-shadow:0 25px 50px rgba(0,0,0,.2)}
    .eyebrow{color:var(--gold);font-weight:700;letter-spacing:.12em;text-transform:uppercase;font-size:12px}
    .hero-title{margin:10px 0 8px;font-size:36px;line-height:1.2;color:var(--brand-ink)}
    .hero-sub{color:var(--muted);font-size:15px;line-height:1.6;margin-bottom:20px}
    .cta{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap;justify-content:center}
    .btn{padding:12px 20px;border-radius:12px;border:1px solid transparent;font-weight:600;cursor:pointer;transition:var(--transition);min-height:44px;display:inline-flex;align-items:center;justify-content:center;text-decoration:none;position:relative;overflow:hidden}
    .btn::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);transition:left 0.5s ease}
    .btn:hover::before{left:100%}
    .btn-primary{background:var(--brand);color:#fff;box-shadow:0 4px 12px rgba(0,91,172,0.3)}
    .btn-primary:hover{background:#004a94;transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,91,172,0.4)}
    .btn-primary:focus{outline:2px solid var(--brand);outline-offset:2px}
    .btn-outline{background:#fff;border-color:#e5e7eb;color:var(--ink)}
    .btn-outline:hover{border-color:var(--brand);color:var(--brand);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,91,172,0.15)}

    /* ===== Sections ===== */
    section{padding:56px 0}
    h2.sec-title{font-size:26px;margin:0 0 16px;color:var(--brand-ink);position:relative}
    h2.sec-title::after{content:"";position:absolute;bottom:-8px;left:0;width:40px;height:3px;background:var(--gold);border-radius:2px}
    p.sec-desc{margin:0 0 24px;color:var(--muted)}

    .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:24px;display:flex;flex-direction:column;gap:12px;transition:var(--transition);cursor:pointer;border:1px solid transparent}
    .card:hover{transform:translateY(-4px);box-shadow:0 20px 40px rgba(0,0,0,.12);border-color:#eef5ff}
    .card .icon{font-size:28px}
    .badge{display:inline-block;background:#eef5ff;color:var(--brand);font-weight:700;padding:6px 12px;border-radius:999px;font-size:12px;width:fit-content}

    .adv{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
    .adv .item{background:var(--card);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow);transition:var(--transition);border:1px solid transparent}
    .adv .item:hover{transform:translateY(-2px);box-shadow:0 15px 30px rgba(0,0,0,.1);border-color:#eef5ff}
    .item h4{margin:0 0 8px;color:var(--brand-ink)}
    .item p{margin:0;color:var(--muted);font-size:14px;line-height:1.5}

    /* ===== Contact ===== */
    .contact{background:linear-gradient(180deg,#fff, #f9fbff)}
    .contact .panel{background:#fff;border:1px solid #edf0f4;border-radius:20px;box-shadow:var(--shadow);padding:28px;display:grid;grid-template-columns:1.2fr .8fr;gap:24px;align-items:center;transition:var(--transition)}
    .contact .panel:hover{box-shadow:0 20px 40px rgba(0,0,0,.12)}
    .contact .wechat{justify-self:end;text-align:center}
    .contact .wechat img{height:120px;margin:0 auto 8px;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.1)}
    .contact .line{color:var(--muted);margin-bottom:8px}
    .contact .line a{color:var(--brand);transition:var(--transition)}
    .contact .line a:hover{color:#004a94}

    /* ===== Footer ===== */
    footer{padding:32px 0;color:#7b8091;font-size:13px;text-align:center;border-top:1px solid #edf0f4}

    /* ===== Responsive ===== */
    @media (max-width: 1024px){
      .hero{grid-template-columns:1fr 1fr;min-height:100vh}
      .hero-card{max-width:600px;padding:28px}
      .cards{grid-template-columns:repeat(2,1fr)}
      .adv{grid-template-columns:repeat(2,1fr)}
      .contact .panel{grid-template-columns:1fr;text-align:center}
      .contact .wechat{justify-self:center}
    }
    @media (max-width: 640px){
      .hero{grid-template-columns:1fr;min-height:100vh}
      .hero-card{max-width:90%;padding:24px}
      .hero-title{font-size:28px}
      .cards{grid-template-columns:1fr}
      .adv{grid-template-columns:1fr}
      .cta{flex-direction:column;align-items:center}
      .btn{width:100%;max-width:280px}
      .lang-switch{justify-content:center}
    }

    /* ===== Accessibility ===== */
    @media (prefers-reduced-motion: reduce){
      *{animation-duration:0.01ms !important;animation-iteration-count:1 !important;transition-duration:0.01ms !important}
      html{scroll-behavior:auto}
    }
    
    /* High contrast mode support */
    @media (prefers-contrast: high){
      :root{--shadow:0 2px 8px rgba(0,0,0,.3)}
      .btn-primary{border:2px solid var(--brand-ink)}
      .card, .adv .item{border:1px solid var(--muted)}
    }

    /* ===== Animations ===== */
    .fade-up{opacity:0;transform:translateY(20px);animation:fadeUp .8s ease forwards}
    @keyframes fadeUp{to{opacity:1;transform:none}}
    
    .scale-in{transform:scale(0.9);opacity:0;animation:scaleIn 0.6s ease forwards}
    @keyframes scaleIn{to{transform:scale(1);opacity:1}}

    /* ===== Focus styles for accessibility ===== */
    *:focus{outline:2px solid var(--brand);outline-offset:2px}
    .card:focus, .adv .item:focus{outline:none;box-shadow:0 0 0 3px rgba(0,91,172,0.3)}

    /* ===== Image fallback ===== */
    .hero .tile img[alt]::after{
      content:attr(alt);
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:var(--bg);
      color:var(--muted);
      font-size:14px;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="container row">
      <div class="brand">
        <img src="logo.png" alt="Smart Eyes" />
        <div class="name">SMART EYES</div>
      </div>
      <div class="lang-switch" id="langSwitch"></div>
    </div>
  </header>

  <!-- Hero Mosaic (accepts portrait images) -->
  <section class="hero" id="hero">
    <!-- 图片由 JS 随机注入 -->
    <div class="hero-content">
      <div class="hero-card fade-up">
        <div class="eyebrow" data-i18n="eyebrow">REAL ESTATE • TOKYO</div>
        <h1 class="hero-title" data-i18n="headline">新宿发出的专业不动产服务</h1>
        <p class="hero-sub" data-i18n="tagline">买卖 · 租赁 · 投资 | 多语言团队为您提供一站式顾问。</p>
        <div class="cta">
          <a class="btn btn-primary" id="ctaMail" href="mailto:contact@smarteyes.co.jp">contact@smarteyes.co.jp</a>
          <a class="btn btn-outline" href="#contact" data-i18n="ctaTalk">立即咨询</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Services -->
  <section>
    <div class="container">
      <h2 class="sec-title" data-i18n="svcTitle">我们的服务</h2>
      <p class="sec-desc" data-i18n="svcDesc">面向个人与法人，覆盖东京及周边区域。</p>
      <div class="cards">
        <div class="card fade-up" style="animation-delay:.05s">
          <div class="badge" data-i18n="svc1Badge">SALE</div>
          <h3 data-i18n="svc1Title">买卖成交与尽调</h3>
          <p data-i18n="svc1Desc">陪同看房、价格谈判、合同审核与资金流程把控。</p>
        </div>
        <div class="card fade-up" style="animation-delay:.1s">
          <div class="badge" data-i18n="svc2Badge">RENT</div>
          <h3 data-i18n="svc2Title">租赁与管理</h3>
          <p data-i18n="svc2Desc">留学生、国际人才与法人租赁，提供多语种支持。</p>
        </div>
        <div class="card fade-up" style="animation-delay:.15s">
          <div class="badge" data-i18n="svc3Badge">INVEST</div>
          <h3 data-i18n="svc3Title">投资与资产配置</h3>
          <p data-i18n="svc3Desc">回报建模、现金流测算、并提供收并购与退出建议。</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Advantages -->
  <section>
    <div class="container">
      <h2 class="sec-title" data-i18n="advTitle">为什么选择我们</h2>
      <p class="sec-desc" data-i18n="advDesc">可信、专业、高效，是我们对每一位客户的承诺。</p>
      <div class="adv">
        <div class="item fade-up"><h4 data-i18n="adv1Title">新宿核心地段</h4><p data-i18n="adv1Desc">地铁交通便捷，接待安排迅速。</p></div>
        <div class="item fade-up" style="animation-delay:.05s"><h4 data-i18n="adv2Title">多语言支持</h4><p data-i18n="adv2Desc">日/中/英/越/尼泊尔文，沟通无障碍。</p></div>
        <div class="item fade-up" style="animation-delay:.1s"><h4 data-i18n="adv3Title">严格合规</h4><p data-i18n="adv3Desc">东京都知事(1)第112700号，手续透明可追溯。</p></div>
        <div class="item fade-up" style="animation-delay:.15s"><h4 data-i18n="adv4Title">投研驱动</h4><p data-i18n="adv4Desc">以数据与模型为基础，平衡风险与收益。</p></div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="contact">
    <div class="container">
      <div class="panel">
        <div>
          <h2 class="sec-title" data-i18n="contactTitle">联系我们</h2>
          <p class="line"><strong data-i18n="company">株式会社スマートアイズ</strong></p>
          <p class="line" data-i18n="addr">〒160-0023 東京都新宿区西新宿7-3-10山京ビル401</p>
          <p class="line">TEL: <a href="tel:+81353589289">03-5358-9289</a>　FAX: 03-5358-9296</p>
          <p class="line">E-mail: <a href="mailto:contact@smarteyes.co.jp">contact@smarteyes.co.jp</a></p>
          <p class="line" data-i18n="license">宅地建物取引業許可番号：東京都知事(1)第112700号</p>
        </div>
        <div class="wechat">
          <img src="wechat.png" alt="WeChat QR" />
          <div data-i18n="wechatHint">微信联系请扫码</div>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">© 2025 株式会社スマートアイズ All rights reserved.</div>
  </footer>

  <script>
    // ===== 1) 从40张图片中随机选择6张用于Hero背景 =====
    function generateRandomImages() {
      const totalImages = 40; // 你有1.JPEG到40.JPEG
      const displayCount = 6; // 显示6张图片
      
      // 生成1-40的数组
      const allNumbers = Array.from({length: totalImages}, (_, i) => i + 1);
      
      // 随机打乱数组
      for (let i = allNumbers.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [allNumbers[i], allNumbers[j]] = [allNumbers[j], allNumbers[i]];
      }
      
      // 取前6个数字，生成图片路径（使用大写JPEG扩展名）
      return allNumbers.slice(0, displayCount).map(num => `img/${num}.JPEG`);
    }

    // 生成随机图片并插入到hero区域
    const heroImages = generateRandomImages();
    const heroEl = document.getElementById('hero');
    
    heroImages.forEach((src, index) => {
      const tile = document.createElement('div');
      tile.className = 'tile';
      const img = document.createElement('img');
      img.loading = 'lazy';
      img.src = src;
      img.alt = `Smart Eyes Hero Image ${index + 1}`;
      
      // 添加错误处理，如果图片加载失败则隐藏该tile
      img.onerror = function() {
        console.warn(`Failed to load image: ${src}`);
        tile.style.display = 'none';
      };
      
      tile.appendChild(img);
      heroEl.insertBefore(tile, heroEl.firstChild);
    });

    // ===== 2) i18n strings =====
    const I18N = {
      ja: {
        eyebrow: 'REAL ESTATE • TOKYO',
        headline: '新宿から、上質な不動産ソリューション',
        tagline: '売買・賃貸・投資。海外のお客様にも多言語で丁寧に対応します。',
        ctaTalk: '相談する',
        svcTitle: 'サービス',
        svcDesc: '個人・法人向けに、東京エリアを中心に対応。',
        svc1Badge: 'SALE', svc1Title:'売買・デューデリ', svc1Desc:'内見同席、価格交渉、契約レビューと資金スキームまで。',
        svc2Badge: 'RENT', svc2Title:'賃貸・管理', svc2Desc:'留学生・外国籍・法人契約まで多言語でサポート。',
        svc3Badge: 'INVEST', svc3Title:'投資・アセット', svc3Desc:'収益シミュレーション、CF計画、M&A/Exit助言。',
        advTitle:'選ばれる理由', advDesc:'信頼・専門性・スピード。',
        adv1Title:'新宿コアロケーション', adv1Desc:'主要路線へのアクセスが良好。',
        adv2Title:'多言語サポート', adv2Desc:'日/中/英/越/ネパール語対応。',
        adv3Title:'法令順守', adv3Desc:'東京都知事(1)第112700号。',
        adv4Title:'リサーチ駆動', adv4Desc:'データとモデルに基づく助言。',
        contactTitle:'お問い合わせ',
        company:'株式会社スマートアイズ',
        addr:'〒160-0023 東京都新宿区西新宿7-3-10山京ビル401',
        license:'宅地建物取引業許可番号：東京都知事(1)第112700号',
        wechatHint:'WeChatでお問い合わせ'
      },
      zh: {
        eyebrow:'REAL ESTATE • TOKYO',
        headline:'来自新宿的高端不动产服务',
        tagline:'买卖 · 租赁 · 投资 | 多语言团队一站式服务',
        ctaTalk:'立即咨询',
        svcTitle:'我们的服务',
        svcDesc:'面向个人与法人，覆盖东京及周边区域。',
        svc1Badge:'SALE', svc1Title:'买卖成交与尽调', svc1Desc:'陪同看房、价格谈判、合同审核与资金流程把控。',
        svc2Badge:'RENT',  svc2Title:'租赁与管理',   svc2Desc:'留学生、国际人才与法人租赁，多语种支持。',
        svc3Badge:'INVEST',svc3Title:'投资与资产配置', svc3Desc:'回报建模、现金流测算、并提供退出建议。',
        advTitle:'为什么选择我们', advDesc:'可信、专业、高效，是我们的承诺。',
        adv1Title:'新宿核心地段', adv1Desc:'交通便捷，接待安排迅速。',
        adv2Title:'多语言支持', adv2Desc:'日/中/英/越/尼泊尔文。',
        adv3Title:'严格合规', adv3Desc:'东京都知事(1)第112700号。',
        adv4Title:'投研驱动', adv4Desc:'以数据与模型为基础，平衡风险与收益。',
        contactTitle:'联系我们',
        company:'株式会社スマートアイズ',
        addr:'邮编160-0023 东京都新宿区西新宿7-3-10 山京大楼401室',
        license:'房地产经营许可编号：东京都知事(1)第112700号',
        wechatHint:'微信联系请扫码'
      },
      'zh-Hant': {
        eyebrow:'REAL ESTATE • TOKYO',
        headline:'來自新宿的高端不動產服務',
        tagline:'買賣・租賃・投資｜多語團隊一站式',
        ctaTalk:'立即諮詢',
        svcTitle:'我們的服務',
        svcDesc:'面向個人與法人，覆蓋東京及周邊地區。',
        svc1Badge:'SALE', svc1Title:'買賣成交與盡調', svc1Desc:'陪同看房、價格談判、合同審核與資金流程。',
        svc2Badge:'RENT',  svc2Title:'租賃與管理',   svc2Desc:'留學生、國際人才與法人租賃，多語支援。',
        svc3Badge:'INVEST',svc3Title:'投資與資產配置', svc3Desc:'回報建模、現金流測算與退出建議。',
        advTitle:'為何選擇我們', advDesc:'可信、專業、高效。',
        adv1Title:'新宿核心地段', adv1Desc:'交通便捷，接待快速。',
        adv2Title:'多語支援', adv2Desc:'日/中/英/越/尼泊爾文。',
        adv3Title:'嚴格合規', adv3Desc:'東京都知事(1)第112700號。',
        adv4Title:'投研驅動', adv4Desc:'以數據與模型為基礎。',
        contactTitle:'聯絡我們',
        company:'株式会社 SMART EYES',
        addr:'郵遞區號160-0023 東京都新宿區西新宿7-3-10 山京大樓401室',
        license:'不動產營業許可號碼：東京都知事(1)第112700號',
        wechatHint:'請使用微信掃碼聯繫'
      },
      en: {
        eyebrow:'REAL ESTATE • TOKYO',
        headline:'Premium Real Estate Advisory from Shinjuku',
        tagline:'Buy • Rent • Invest | Multilingual one-stop service.',
        ctaTalk:'Talk to us',
        svcTitle:'What we do',
        svcDesc:'Serving individuals and enterprises across Greater Tokyo.',
        svc1Badge:'SALE', svc1Title:'Transactions & Due Diligence', svc1Desc:'Viewings, price negotiation, contract review, fund flow control.',
        svc2Badge:'RENT',  svc2Title:'Leasing & Management',         svc2Desc:'For students, expats and corporates, multilingual support.',
        svc3Badge:'INVEST',svc3Title:'Investment & Allocation',      svc3Desc:'Return modeling, cashflow analysis, exit strategies.',
        advTitle:'Why Smart Eyes', advDesc:'Trusted • Professional • Efficient.',
        adv1Title:'Core Shinjuku Location', adv1Desc:'Fast access and reception.',
        adv2Title:'Multilingual Team',      adv2Desc:'JA / ZH / EN / VI / NE.',
        adv3Title:'Compliance First',       adv3Desc:'Tokyo Governor (1) #112700.',
        adv4Title:'Research-driven',        adv4Desc:'Data and models inform advice.',
        contactTitle:'Contact',
        company:'Smart Eyes Co., Ltd.',
        addr:'Yamakyō Bldg. 401, 7-3-10 Nishi-Shinjuku, Shinjuku-ku, Tokyo 160-0023',
        license:'Real Estate License: Tokyo Governor (1) #112700',
        wechatHint:'Scan to contact via WeChat'
      },
      vi: {
        eyebrow:'REAL ESTATE • TOKYO',
        headline:'Tư vấn bất động sản tại Shinjuku',
        tagline:'Mua • Thuê • Đầu tư | Hỗ trợ đa ngôn ngữ.',
        ctaTalk:'Liên hệ ngay',
        svcTitle:'Dịch vụ',
        svcDesc:'Phục vụ cá nhân và doanh nghiệp tại khu vực Tokyo.',
        svc1Badge:'SALE', svc1Title:'Giao dịch & Thẩm định', svc1Desc:'Xem nhà, đàm phán giá, rà soát hợp đồng.',
        svc2Badge:'RENT',  svc2Title:'Cho thuê & Quản lý',    svc2Desc:'Hỗ trợ du học sinh, người nước ngoài và doanh nghiệp.',
        svc3Badge:'INVEST',svc3Title:'Đầu tư & Phân bổ',      svc3Desc:'Mô hình hoá lợi nhuận, dòng tiền, chiến lược thoái vốn.',
        advTitle:'Vì sao chọn chúng tôi', advDesc:'Đáng tin cậy • Chuyên nghiệp • Nhanh chóng.',
        adv1Title:'Vị trí trung tâm Shinjuku', adv1Desc:'Di chuyển thuận tiện.',
        adv2Title:'Đa ngôn ngữ', adv2Desc:'JA / ZH / EN / VI / NE.',
        adv3Title:'Tuân thủ pháp lý', adv3Desc:'Tokyo (1) #112700.',
        adv4Title:'Dựa trên nghiên cứu', adv4Desc:'Dữ liệu và mô hình.',
        contactTitle:'Liên hệ',
        company:'Smart Eyes Co., Ltd.',
        addr:'Tầng 4, Tòa Yamakyō, 7-3-10 Nishi-Shinjuku, Shinjuku, Tokyo 160-0023',
        license:'Giấy phép BĐS: Tokyo (1) #112700',
        wechatHint:'Quét QR để liên hệ qua WeChat'
      },
      ne: {
        eyebrow:'REAL ESTATE • TOKYO',
        headline:'सिन्जुकुबाट प्रिमियम रियल इस्टेट सेवा',
        tagline:'किनबेच • भाडा • लगानी | बहुभाषिक एकद्वार सेवा।',
        ctaTalk:'सम्पर्क गर्नुहोस्',
        svcTitle:'हाम्रो सेवा',
        svcDesc:'टोकियो र वरपर क्षेत्रमा।',
        svc1Badge:'SALE', svc1Title:'लेनदेन र ड्यूडिलिजेन्स', svc1Desc:'भ्रमण, मूल्य वार्ता, सम्झौता समीक्षा।',
        svc2Badge:'RENT',  svc2Title:'भाडा र व्यवस्थापन',     svc2Desc:'विद्यार्थी, विदेशी र कार्पोरेटका लागि।',
        svc3Badge:'INVEST',svc3Title:'लगानी योजना',           svc3Desc:'रिटर्न मोडेलिङ, क्यासफ्लो, एक्जिट।',
        advTitle:'किन हामी', advDesc:'विश्वसनीय • पेशेवर • छिटो।',
        adv1Title:'कोर सिन्जुकु', adv1Desc:'छिटो पहुँच।',
        adv2Title:'बहुभाषिक', adv2Desc:'JA / ZH / EN / VI / NE.',
        adv3Title:'अनुपालन', adv3Desc:'Tokyo (1) #112700.',
        adv4Title:'अनुसन्धान-आधारित', adv4Desc:'डेटा र मोडेल।',
        contactTitle:'सम्पर्क',
        company:'स्मार्ट आइज',
        addr:'यामाक्यो भवन ४०१, ७-३-१० निशि-शिन्जुकु, शिन्जुकु-कु, टोकियो १६०-००२३',
        license:'रियल इस्टेट लाइसेन्स: Tokyo (1) #112700',
        wechatHint:'WeChat मार्फत सम्पर्कका लागि स्क्यान गर्नुहोस्'
      }
    };

    // ===== 3) Language detection and switching =====
    const order = ['ja','zh','zh-Hant','en','vi','ne'];
    function detectLang(){
      const nav = (navigator.languages && navigator.languages[0]) || navigator.language || 'ja';
      const code = nav.toLowerCase();
      if(code.startsWith('zh-tw')||code.includes('hant')) return 'zh-Hant';
      if(code.startsWith('zh')) return 'zh';
      if(code.startsWith('ja')) return 'ja';
      if(code.startsWith('vi')) return 'vi';
      if(code.startsWith('ne')) return 'ne';
      return 'en';
    }
    function applyLang(lang){
      const dict = I18N[lang] || I18N['en'];
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if(dict[key]) el.textContent = dict[key];
      });
      document.documentElement.lang = lang;
      // 按钮高亮
      document.querySelectorAll('.lang-switch button').forEach(btn=>{
        btn.classList.toggle('active', btn.dataset.lang===lang);
      });
    }
    function buildLangSwitch(){
      const el = document.getElementById('langSwitch');
      order.forEach(code=>{
        const b = document.createElement('button');
        b.textContent = ({ja:'日本語',zh:'简体中文','zh-Hant':'繁體中文',en:'English',vi:'Tiếng Việt',ne:'नेपाली'})[code];
        b.dataset.lang = code;
        b.onclick = ()=>applyLang(code);
        el.appendChild(b);
      });
    }
    buildLangSwitch();
    applyLang(detectLang());
  </script>
</body>
</html>